experiment_name: "exp_final"
run_name: test_saxs
mlflow_uri: https://mlflowts.irit.fr/
dataset:
  hdf5_file: "/projects/pnria/caroline/test.h5"
  metadata_filters:
    material: [ "ag" ]
    technique: [ "saxs" ]
  requested_metadata: [ "shape", "material" ]
  conversion_dict_path: "/projects/pnria/caroline/test.json"
  sample_frac: 1.0
transforms_data:
  y:
    PreprocessingSAXS:
      pad_size: 500
  q:
    PreprocessingQ:
      pad_size: 500

training:
  num_gpus: 1
  num_nodes: 1
  num_epochs: 400
  patience: 50
  use_loglog: True

  batch_size: 16
  num_workers: 8

  beta: 0.000001

  max_lr: 0.0001
  T_max: 150
  eta_min: 0.0000001

model:
  vae_class: ResVAEBN
  args:
    in_channels: 1
    output_channels: 1
    dilation: 1
    input_dim: 500
    latent_dim: 128
    down_channels: [ 16, 32, 64, 128, 256 ]
    up_channels: [ 256, 128, 64, 32, 16 ]
    strat: "y"

param_grid:
  training.beta: [ 0.001, 0.0001 ]
  model.args.latent_dim: [ 64, 128, 256 ]
  training.batch_size: [ 16, 32, 64 ]